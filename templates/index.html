<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dockpeek</title>
  <link href="/static/css/tailwindcss.css" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="/static/logo.svg">
</head>

<body class="p-6 dark-mode">
  <div class="container mx-auto bg-white rounded-lg shadow-xl p-8">
    <div class="flex justify-between items-center mb-6">
      <h1 class="logo-title text-3xl font-bold">dockpeek</h1>
      <div class="flex space-x-4 items-center text-sm controls-container">
        <a href="https://github.com/dockpeek/dockpeek" target="_blank" class="github no-underline">
          GitHub
        </a>
        <button id="refresh-button" data-tooltip="Refresh Data"
          class="p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M21 3V8M21 8H16M21 8L18 5.29168C16.4077 3.86656 14.3051 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.2832 21 19.8675 18.008 20.777 14"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </button>
        <button id="theme-switcher" data-tooltip="Switch Theme"
          class="p-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75">
          <span id="theme-icon"> </span>
        </button>
        <button id="check-updates-button" class="px-4 py-2 rounded-lg font-medium">
          <svg fill="currentColor" viewBox="4 4 48 48" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M 27.9999 51.9063 C 41.0546 51.9063 51.9063 41.0781 51.9063 28 C 51.9063 14.9453 41.0312 4.0937 27.9765 4.0937 C 14.8983 4.0937 4.0937 14.9453 4.0937 28 C 4.0937 41.0781 14.9218 51.9063 27.9999 51.9063 Z M 27.9999 47.9219 C 16.9374 47.9219 8.1014 39.0625 8.1014 28 C 8.1014 16.9609 16.9140 8.0781 27.9765 8.0781 C 39.0155 8.0781 47.8983 16.9609 47.9219 28 C 47.9454 39.0625 39.0390 47.9219 27.9999 47.9219 Z M 27.9999 15.9531 C 27.4843 15.9531 27.1093 16.1406 26.6405 16.6094 L 18.6718 24.5312 C 18.3671 24.8359 18.2265 25.2578 18.2265 25.75 C 18.2265 26.7109 18.9530 27.4375 19.9140 27.4375 C 20.4062 27.4375 20.8514 27.25 21.1562 26.9219 L 24.0624 23.9922 L 26.4296 21.1797 L 26.2421 26.1250 L 26.2421 38.3359 C 26.2421 39.3672 26.9687 40.0937 27.9999 40.0937 C 29.0077 40.0937 29.7577 39.3672 29.7577 38.3359 L 29.7577 26.1250 L 29.5702 21.1563 L 31.9374 23.9922 L 34.8436 26.9219 C 35.1483 27.2734 35.5702 27.4375 36.0858 27.4375 C 37.0468 27.4375 37.7968 26.7109 37.7968 25.75 C 37.7968 25.2578 37.6327 24.8359 37.3046 24.5312 L 29.3827 16.6094 C 28.9140 16.1641 28.5155 15.9531 27.9999 15.9531 Z">
          </svg>
          Check for updates
        </button>
        <a href="/logout" id="logout-button"
          class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-opacity-75 text-center font-medium">
          Logout
        </a>
      </div>
    </div>

    <div class="mb-6 relative flex items-center">
      <input type="text" id="search-input" placeholder="Search by name, image, or port..."
        class="w-full p-3 pr-20 md:pr-48 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      <div class="absolute right-4 flex items-center space-x-3">
        <label for="filter-updates-checkbox"
          class="hidden md:inline text-sm text-gray-600 dark:text-gray-400 cursor-pointer select-none">Update
          available</label>
        <label class="toggle-switch">
          <input type="checkbox" id="filter-updates-checkbox" class="hidden">
          <span class="slider"></span>
        </label>
      </div>
    </div>

    <div id="server-filter-container" class="mb-4 ml-2 flex flex-wrap gap-2"></div>

    <div id="container-table-wrapper" class="overflow-x-auto rounded-lg overflow-hidden">
      <table id="main-table" class="min-w-full bg-white border border-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 border-b border-gray-200 sortable-header"
              data-sort-column="name">
              Container
            </th>
            <th
              class="py-3 px-4 text-left text-sm font-semibold text-gray-700 border-b border-gray-200 sortable-header server-column"
              data-sort-column="server">
              Server
            </th>
            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 border-b border-gray-200 sortable-header"
              data-sort-column="ports">
              Ports
            </th>
            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 border-b border-gray-200 sortable-header"
              data-sort-column="image">
              Image
            </th>
            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-700 border-b border-gray-200 sortable-header"
              data-sort-column="status">
              Status
            </th>
          </tr>
        </thead>
        <tbody id="container-rows">
        </tbody>
      </table>
    </div>

  </div>

  <template id="container-row-template">
    <tr class="hover:bg-gray-50">
      <td class="py-3 px-4 border-b border-gray-200 font-medium data-content-name" data-content="name">
      </td>
      <td class="py-3 px-4 border-b border-gray-200 text-gray-400 text-sm server-column" data-content="server">
        <span data-content="server-name"></span>
      </td>

      <td class="py-3 px-4 border-b border-gray-200" data-content="ports">
      </td>
      <td class="py-3 px-4 border-b border-gray-200 table-cell-image">
        <div class="flex items-center space-x-2">
          <code class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-sm" data-content="image"></code>
          <span class="update-indicator hidden" data-content="update-indicator" data-tooltip="Update available">
            <?xml version="1.0" encoding="utf-8"?>
            <svg fill="currentColor" viewBox="4 4 48 48" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M 27.9999 51.9063 C 41.0546 51.9063 51.9063 41.0781 51.9063 28 C 51.9063 14.9453 41.0312 4.0937 27.9765 4.0937 C 14.8983 4.0937 4.0937 14.9453 4.0937 28 C 4.0937 41.0781 14.9218 51.9063 27.9999 51.9063 Z M 27.9999 47.9219 C 16.9374 47.9219 8.1014 39.0625 8.1014 28 C 8.1014 16.9609 16.9140 8.0781 27.9765 8.0781 C 39.0155 8.0781 47.8983 16.9609 47.9219 28 C 47.9454 39.0625 39.0390 47.9219 27.9999 47.9219 Z M 27.9999 15.9531 C 27.4843 15.9531 27.1093 16.1406 26.6405 16.6094 L 18.6718 24.5312 C 18.3671 24.8359 18.2265 25.2578 18.2265 25.75 C 18.2265 26.7109 18.9530 27.4375 19.9140 27.4375 C 20.4062 27.4375 20.8514 27.25 21.1562 26.9219 L 24.0624 23.9922 L 26.4296 21.1797 L 26.2421 26.1250 L 26.2421 38.3359 C 26.2421 39.3672 26.9687 40.0937 27.9999 40.0937 C 29.0077 40.0937 29.7577 39.3672 29.7577 38.3359 L 29.7577 26.1250 L 29.5702 21.1563 L 31.9374 23.9922 L 34.8436 26.9219 C 35.1483 27.2734 35.5702 27.4375 36.0858 27.4375 C 37.0468 27.4375 37.7968 26.7109 37.7968 25.75 C 37.7968 25.2578 37.6327 24.8359 37.3046 24.5312 L 29.3827 16.6094 C 28.9140 16.1641 28.5155 15.9531 27.9999 15.9531 Z">
            </svg>
          </span>
        </div>
      </td>
      <td class="py-3 px-4 border-b border-gray-200 table-cell-status" data-content="status">
      </td>
    </tr>
  </template>

  <div id="confirmation-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <h2 id="modal-title" class="text-xl font-bold mb-4 text-gray-900">
        Confirmation
      </h2>
      <div id="modal-message" class="text-gray-600 mb-6 text-left whitespace-pre-line">
      </div>
      <div class="flex justify-center space-x-4">
        <button id="modal-cancel-button"
          class="px-6 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 font-medium">
          Cancel
        </button>
        <button id="modal-confirm-button"
          class="px-6 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 font-medium">
          Confirm
        </button>
      </div>
    </div>
  </div>

  <div id="updates-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <h3 id="updates-modal-title" class="text-lg font-semibold mb-4 text-gray-900 font-medium">
        Updates Found
      </h3>
      <div id="updates-modal-message">
        <p class="mb-3 text-gray-600">
          Found updates for the following containers:
        </p>
        <ul id="updates-list" class="list-none text-left mb-4">
        </ul>
      </div>
      <div class="flex justify-center space-x-3 mt-4">
        <button id="updates-modal-ok-button"
          class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium">
          OK
        </button>
      </div>
    </div>
  </div>

  <script src="/static/js/app.js"></script>
</body>

</html>